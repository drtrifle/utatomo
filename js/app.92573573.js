(function(){"use strict";var t={9760:function(t,n,o){var r=o(5130),e=o(6768);const s={id:"app"};function l(t,n,o,r,l,a){const i=(0,e.g2)("router-view");return(0,e.uX)(),(0,e.CE)("div",s,[(0,e.bF)(i)])}var a={name:"App"},i=o(1241);const u=(0,i.A)(a,[["render",l]]);var c=u,d=o(1387);function g(t,n,o,r,s,l){const a=(0,e.g2)("router-link");return(0,e.uX)(),(0,e.CE)("div",null,[n[1]||(n[1]=(0,e.Lk)("h1",null,"Welcome to UtaTomo",-1)),n[2]||(n[2]=(0,e.Lk)("p",null,"Learn languages through songs!",-1)),(0,e.bF)(a,{to:"/songs"},{default:(0,e.k6)((()=>n[0]||(n[0]=[(0,e.eW)("View Song List")]))),_:1})])}var f={name:"HomePage"};const h=(0,i.A)(f,[["render",g]]);var v=h,p=o(4232);const y=["onClick"],b=["src"];function k(t,n,o,r,s,l){const a=(0,e.g2)("router-link");return(0,e.uX)(),(0,e.CE)("div",null,[n[2]||(n[2]=(0,e.Lk)("h1",null,"Song List",-1)),(0,e.Lk)("table",{class:(0,p.C4)(l.styles.songTable)},[n[0]||(n[0]=(0,e.Lk)("thead",null,[(0,e.Lk)("tr",null,[(0,e.Lk)("th",null,"#"),(0,e.Lk)("th",null,"Title"),(0,e.Lk)("th",null,"Duration")])],-1)),(0,e.Lk)("tbody",null,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(s.songs,((t,n)=>((0,e.uX)(),(0,e.CE)("tr",{key:t.id,onClick:n=>l.goToSongDetails(t.id)},[(0,e.Lk)("td",null,(0,p.v_)(n+1),1),(0,e.Lk)("td",{class:(0,p.C4)(l.styles.songTitle)},[(0,e.Lk)("img",{src:l.getThumbnail(t.youtubeUrl),alt:"Thumbnail",class:(0,p.C4)(l.styles.thumbnail)},null,10,b),(0,e.Lk)("div",{class:(0,p.C4)(l.styles.titleInfo)},[(0,e.Lk)("div",{class:(0,p.C4)(l.styles.title)},(0,p.v_)(t.title),3),(0,e.Lk)("div",{class:(0,p.C4)(l.styles.artist)},(0,p.v_)(t.artist),3)],2)],2),(0,e.Lk)("td",null,(0,p.v_)(t.duration),1)],8,y)))),128))])],2),(0,e.bF)(a,{to:"/"},{default:(0,e.k6)((()=>n[1]||(n[1]=[(0,e.eW)("Go Back to Home")]))),_:1})])}o(4114),o(8992),o(2577);async function m(){try{const t=await fetch("/data/songs.json");if(!t.ok)throw new Error(`Error fetching songs: ${t.statusText}`);return await t.json()}catch(t){return console.error(t),[]}}function w(t){const n=t.split("v=")[1]?.split("&")[0];if(!n)throw new Error("Invalid YouTube URL");return`https://i3.ytimg.com/vi/${n}/default.jpg`}const L=async t=>{console.log(`Fetching song with ID: ${t}`);const n=await m();console.log("Fetched songs:",n);const o=n.find((n=>n.id===t));return console.log("Found song:",o),o},C=async t=>{try{const n=await fetch(`/data/lyrics/${t}.json`);if(!n.ok)throw new Error(`Lyrics not found for ID: ${t}`);const o=await n.json();return console.log(`Fetched lyrics for ID ${t}:`,o),o.lyrics}catch(n){return console.error("Error fetching lyrics:",n),null}};var E={songTable:"XJpkjck5TYyJsUzPaKMU",songTitle:"Xh0YjSsYAAxPRHczzf28",thumbnail:"ObdIsDi3RAs9F5dLroE1",titleInfo:"OdnlyaqsCOsEahFDgAa5",title:"E2_b2gv8VyU0ALdF1ASU",artist:"IGWDvtp1CSwvjZq4MepP"},T={name:"SongListPage",data(){return{songs:[]}},async created(){this.songs=await m()},methods:{getThumbnail(t){return w(t)},goToSongDetails(t){this.$router.push(`/song/${t}`)}},computed:{styles(){return E}}};const _=(0,i.A)(T,[["render",k]]);var X=_;const F={class:"song-details-page"},I={key:0,class:"song-details-container"},S={key:0},j={key:1,class:"loading"},O={key:1,class:"loading"};function x(t,n,o,r,s,l){const a=(0,e.g2)("StickyVideo"),i=(0,e.g2)("ScrollableContainer");return(0,e.uX)(),(0,e.CE)("div",F,[(0,e.Lk)("button",{onClick:n[0]||(n[0]=n=>t.$router.push("/songs")),class:"back-button"},"← Back to Songs"),s.song?((0,e.uX)(),(0,e.CE)("div",I,[(0,e.bF)(a,{youtubeUrl:s.song.youtubeUrl},null,8,["youtubeUrl"]),(0,e.bF)(i,{maxHeight:"calc(100vh - 300px)"},{default:(0,e.k6)((()=>[n[1]||(n[1]=(0,e.Lk)("h2",null,"Lyrics",-1)),s.lyrics?((0,e.uX)(),(0,e.CE)("div",S,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(s.lyrics,((t,n)=>((0,e.uX)(),(0,e.CE)("p",{key:n},(0,p.v_)(""===t.trim()?" ":t),1)))),128))])):((0,e.uX)(),(0,e.CE)("p",j,"Loading lyrics..."))])),_:1})])):((0,e.uX)(),(0,e.CE)("div",O,"Loading..."))])}const A={class:"sticky-video"},U=["src"];function $(t,n,o,r,s,l){return(0,e.uX)(),(0,e.CE)("div",A,[(0,e.Lk)("iframe",{src:`https://www.youtube.com/embed/${l.extractYouTubeId(o.youtubeUrl)}`,frameborder:"0",allow:"autoplay; encrypted-media",allowfullscreen:""},null,8,U)])}var D={props:{youtubeUrl:{type:String,required:!0}},methods:{extractYouTubeId(t){const n=t.match(/v=([^&]+)/);return n?n[1]:null}}};const P=(0,i.A)(D,[["render",$],["__scopeId","data-v-3a34de86"]]);var Y=P;const H={class:"scrollable-container"};function R(t,n,o,r,s,l){return(0,e.uX)(),(0,e.CE)("div",H,[(0,e.RG)(t.$slots,"default",{},void 0,!0)])}var V={props:{maxHeight:{type:String,default:"400px"}}};const W=(0,i.A)(V,[["render",R],["__scopeId","data-v-625b0358"]]);var q=W,z={components:{StickyVideo:Y,ScrollableContainer:q},data(){return{song:null,lyrics:null}},async created(){try{const t=this.$route.params.id;this.song=await L(t),this.song&&(this.lyrics=await C(t))}catch(t){console.error("Error loading song details:",t)}}};const B=(0,i.A)(z,[["render",x],["__scopeId","data-v-271fcb5c"]]);var G=B;const K=[{path:"/",component:v},{path:"/songs",component:X},{path:"/song/:id",component:G}],M=(0,d.aE)({history:(0,d.Bt)(),routes:K});var J=M;(0,r.Ef)(c).use(J).mount("#app")}},n={};function o(r){var e=n[r];if(void 0!==e)return e.exports;var s=n[r]={exports:{}};return t[r].call(s.exports,s,s.exports,o),s.exports}o.m=t,function(){var t=[];o.O=function(n,r,e,s){if(!r){var l=1/0;for(c=0;c<t.length;c++){r=t[c][0],e=t[c][1],s=t[c][2];for(var a=!0,i=0;i<r.length;i++)(!1&s||l>=s)&&Object.keys(o.O).every((function(t){return o.O[t](r[i])}))?r.splice(i--,1):(a=!1,s<l&&(l=s));if(a){t.splice(c--,1);var u=e();void 0!==u&&(n=u)}}return n}s=s||0;for(var c=t.length;c>0&&t[c-1][2]>s;c--)t[c]=t[c-1];t[c]=[r,e,s]}}(),function(){o.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(n,{a:n}),n}}(),function(){o.d=function(t,n){for(var r in n)o.o(n,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}(),function(){var t={524:0};o.O.j=function(n){return 0===t[n]};var n=function(n,r){var e,s,l=r[0],a=r[1],i=r[2],u=0;if(l.some((function(n){return 0!==t[n]}))){for(e in a)o.o(a,e)&&(o.m[e]=a[e]);if(i)var c=i(o)}for(n&&n(r);u<l.length;u++)s=l[u],o.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return o.O(c)},r=self["webpackChunkutatomo"]=self["webpackChunkutatomo"]||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))}();var r=o.O(void 0,[504],(function(){return o(9760)}));r=o.O(r)})();
//# sourceMappingURL=app.92573573.js.map