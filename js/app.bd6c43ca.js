(function(){"use strict";var t={8931:function(t,n,e){var o=e(5130),r=e(6768);const s={id:"app"};function i(t,n,e,o,i,a){const l=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",s,[(0,r.bF)(l)])}var a={name:"App"},l=e(1241);const u=(0,l.A)(a,[["render",i]]);var c=u,d=e(1387);const g={class:"home-page"};function h(t,n,e,o,s,i){const a=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",g,[n[1]||(n[1]=(0,r.Lk)("h1",null,"Welcome to UtaTomo",-1)),n[2]||(n[2]=(0,r.Lk)("p",null,"Learn languages through songs!",-1)),(0,r.bF)(a,{to:"/songs",class:"view-songs-link"},{default:(0,r.k6)((()=>n[0]||(n[0]=[(0,r.eW)("View Song List")]))),_:1})])}var f={name:"HomePage"};const v=(0,l.A)(f,[["render",h],["__scopeId","data-v-c096c380"]]);var p=v,y=e(4232);const m=["onClick"],k=["src"];function b(t,n,e,o,s,i){const a=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",null,[n[2]||(n[2]=(0,r.Lk)("h1",null,"Song List",-1)),(0,r.Lk)("table",{class:(0,y.C4)(i.styles.songTable)},[n[0]||(n[0]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"#"),(0,r.Lk)("th",null,"Title"),(0,r.Lk)("th",null,"Duration")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.songs,((t,n)=>((0,r.uX)(),(0,r.CE)("tr",{key:t.id,onClick:n=>i.goToSongDetails(t.id)},[(0,r.Lk)("td",null,(0,y.v_)(n+1),1),(0,r.Lk)("td",{class:(0,y.C4)(i.styles.songTitle)},[(0,r.Lk)("img",{src:i.getThumbnail(t.youtubeUrl),alt:"Thumbnail",class:(0,y.C4)(i.styles.thumbnail)},null,10,k),(0,r.Lk)("div",{class:(0,y.C4)(i.styles.titleInfo)},[(0,r.Lk)("div",{class:(0,y.C4)(i.styles.title)},(0,y.v_)(t.title),3),(0,r.Lk)("div",{class:(0,y.C4)(i.styles.artist)},(0,y.v_)(t.artist),3)],2)],2),(0,r.Lk)("td",null,(0,y.v_)(t.duration),1)],8,m)))),128))])],2),(0,r.bF)(a,{to:"/"},{default:(0,r.k6)((()=>n[1]||(n[1]=[(0,r.eW)("Go Back to Home")]))),_:1})])}e(4114),e(8992),e(2577),e(1454);var C=e(1547);class L{constructor(t="",n=""){this.ChnStr=t,this.EngStr=n}getPinyin(){return this.ChnStr.trim()?(0,C.Ay)(this.ChnStr).join(" "):""}isEmpty(){return!this.ChnStr.trim()&&!this.EngStr.trim()}}async function E(){try{const t=await fetch("/utatomo/data/songs.json");if(!t.ok)throw new Error(`Error fetching songs: ${t.statusText}`);return await t.json()}catch(t){return console.error(t),[]}}function S(t){const n=t.split("v=")[1]?.split("&")[0];if(!n)throw new Error("Invalid YouTube URL");return`https://i3.ytimg.com/vi/${n}/default.jpg`}const w=async t=>{console.log(`Fetching song with ID: ${t}`);const n=await E();console.log("Fetched songs:",n);const e=n.find((n=>n.id===t));return console.log("Found song:",e),e},I=async t=>{try{const n=await fetch(`/utatomo/data/lyrics/${t}.json`);if(!n.ok)throw new Error(`Lyrics not found for ID: ${t}`);const e=await n.json();return console.log(`Fetched lyrics for ID ${t}:`,e),e.lyrics.map((t=>new L(t.ChnStr||"",t.EngStr||"")))}catch(n){return console.error("Error fetching lyrics:",n),null}};var _={songTable:"XJpkjck5TYyJsUzPaKMU",songTitle:"Xh0YjSsYAAxPRHczzf28",thumbnail:"ObdIsDi3RAs9F5dLroE1",titleInfo:"OdnlyaqsCOsEahFDgAa5",title:"E2_b2gv8VyU0ALdF1ASU",artist:"IGWDvtp1CSwvjZq4MepP"},x={name:"SongListPage",data(){return{songs:[]}},async created(){this.songs=await E()},methods:{getThumbnail(t){return S(t)},goToSongDetails(t){this.$router.push(`/song/${t}`)}},computed:{styles(){return _}}};const X=(0,l.A)(x,[["render",b]]);var T=X;const F={class:"song-details-page"},A={key:0,class:"song-details-container"},O={class:"widget-container"},j={key:0},U={key:0},V={key:0},$={key:1},z={key:1},D={key:1,class:"loading"},P={key:1,class:"loading"};function q(t,n,e,o,s,i){const a=(0,r.g2)("StickyVideo"),l=(0,r.g2)("ToggleWidget"),u=(0,r.g2)("ScrollableContainer");return(0,r.uX)(),(0,r.CE)("div",F,[(0,r.Lk)("button",{onClick:n[0]||(n[0]=n=>t.$router.push("/songs")),class:"back-button"},"← Back to Songs"),s.song?((0,r.uX)(),(0,r.CE)("div",A,[(0,r.bF)(a,{youtubeUrl:s.song.youtubeUrl},null,8,["youtubeUrl"]),(0,r.Lk)("div",O,[(0,r.bF)(l,{header:"English Lyrics",options:["On","Off"],modelValue:s.engLyricsIdx,"onUpdate:modelValue":n[1]||(n[1]=t=>s.engLyricsIdx=t)},null,8,["modelValue"]),(0,r.bF)(l,{header:"Font Size",options:["S","M","L"],modelValue:s.fontSizeIdx,"onUpdate:modelValue":n[2]||(n[2]=t=>s.fontSizeIdx=t)},null,8,["modelValue"])]),(0,r.bF)(u,{maxHeight:"calc(100vh - 300px)"},{default:(0,r.k6)((()=>[n[4]||(n[4]=(0,r.Lk)("h2",null,"Lyrics",-1)),s.lyrics?((0,r.uX)(),(0,r.CE)("div",j,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.lyrics,((t,e)=>((0,r.uX)(),(0,r.CE)("div",{key:e,class:(0,y.C4)(i.fontSizeClass)},[t.isEmpty()?((0,r.uX)(),(0,r.CE)("div",z," ")):((0,r.uX)(),(0,r.CE)("div",U,[t.ChnStr?((0,r.uX)(),(0,r.CE)("small",V,(0,y.v_)(t.getPinyin()),1)):(0,r.Q3)("",!0),(0,r.Lk)("div",null,(0,y.v_)(t.ChnStr),1),0==s.engLyricsIdx?((0,r.uX)(),(0,r.CE)("small",$,(0,y.v_)(t.EngStr),1)):(0,r.Q3)("",!0)])),n[3]||(n[3]=(0,r.Lk)("br",null,null,-1))],2)))),128))])):((0,r.uX)(),(0,r.CE)("p",D,"Loading lyrics..."))])),_:1})])):((0,r.uX)(),(0,r.CE)("div",P,"Loading..."))])}const W={class:"sticky-video"},Y=["src"];function H(t,n,e,o,s,i){return(0,r.uX)(),(0,r.CE)("div",W,[(0,r.Lk)("iframe",{src:`https://www.youtube.com/embed/${i.extractYouTubeId(e.youtubeUrl)}`,frameborder:"0",allowfullscreen:""},null,8,Y)])}var M={props:{youtubeUrl:{type:String,required:!0}},methods:{extractYouTubeId(t){const n=t.match(/v=([^&]+)/);return n?n[1]:null}}};const K=(0,l.A)(M,[["render",H],["__scopeId","data-v-056ba640"]]);var R=K;const B={class:"scrollable-container"};function G(t,n,e,o,s,i){return(0,r.uX)(),(0,r.CE)("div",B,[(0,r.RG)(t.$slots,"default",{},void 0,!0)])}var J={props:{maxHeight:{type:String,default:"400px"}}};const Q=(0,l.A)(J,[["render",G],["__scopeId","data-v-625b0358"]]);var N=Q;const Z={class:"widget compact"},tt={class:"widget-header"},nt={class:"widget-body"},et=["onClick"];function ot(t,n,e,o,s,i){return(0,r.uX)(),(0,r.CE)("div",Z,[(0,r.Lk)("div",tt,(0,y.v_)(e.header),1),(0,r.Lk)("div",nt,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.options,((n,o)=>((0,r.uX)(),(0,r.CE)("button",{key:o,class:(0,y.C4)({active:e.modelValue===o}),onClick:n=>t.$emit("update:modelValue",o)},(0,y.v_)(n),11,et)))),128))])])}var rt={props:{header:{type:String,required:!0},options:{type:Array,required:!0},modelValue:{type:Number,required:!0}}};const st=(0,l.A)(rt,[["render",ot],["__scopeId","data-v-ba1881ee"]]);var it=st,at={components:{StickyVideo:R,ScrollableContainer:N,ToggleWidget:it},data(){return{song:null,lyrics:null,engLyricsIdx:0,fontSizeIdx:1}},computed:{fontSizeClass(){return{fontSmall:0==this.fontSizeIdx,fontMedium:1==this.fontSizeIdx,fontLarge:2==this.fontSizeIdx}}},methods:{async fetchData(){try{const t=this.$route.params.id;this.song=await w(t),this.song&&(this.lyrics=await I(t))}catch(t){console.error("Error loading song details:",t)}}},created(){this.fetchData()}};const lt=(0,l.A)(at,[["render",q],["__scopeId","data-v-4c2a2ce8"]]);var ut=lt;const ct=[{path:"/",component:p},{path:"/songs",component:T},{path:"/song/:id",component:ut}],dt=(0,d.aE)({history:(0,d.Bt)(),routes:ct});var gt=dt;(0,o.Ef)(c).use(gt).mount("#app")}},n={};function e(o){var r=n[o];if(void 0!==r)return r.exports;var s=n[o]={exports:{}};return t[o].call(s.exports,s,s.exports,e),s.exports}e.m=t,function(){var t=[];e.O=function(n,o,r,s){if(!o){var i=1/0;for(c=0;c<t.length;c++){o=t[c][0],r=t[c][1],s=t[c][2];for(var a=!0,l=0;l<o.length;l++)(!1&s||i>=s)&&Object.keys(e.O).every((function(t){return e.O[t](o[l])}))?o.splice(l--,1):(a=!1,s<i&&(i=s));if(a){t.splice(c--,1);var u=r();void 0!==u&&(n=u)}}return n}s=s||0;for(var c=t.length;c>0&&t[c-1][2]>s;c--)t[c]=t[c-1];t[c]=[o,r,s]}}(),function(){e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,{a:n}),n}}(),function(){e.d=function(t,n){for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}(),function(){var t={524:0};e.O.j=function(n){return 0===t[n]};var n=function(n,o){var r,s,i=o[0],a=o[1],l=o[2],u=0;if(i.some((function(n){return 0!==t[n]}))){for(r in a)e.o(a,r)&&(e.m[r]=a[r]);if(l)var c=l(e)}for(n&&n(o);u<i.length;u++)s=i[u],e.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return e.O(c)},o=self["webpackChunkutatomo"]=self["webpackChunkutatomo"]||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}();var o=e.O(void 0,[504],(function(){return e(8931)}));o=e.O(o)})();
//# sourceMappingURL=app.bd6c43ca.js.map