(function(){"use strict";var t={7424:function(t,n,e){var o=e(5130),s=e(6768);const r={id:"app"};function l(t,n,e,o,l,a){const i=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",r,[(0,s.bF)(i)])}var a={name:"App"},i=e(1241);const u=(0,i.A)(a,[["render",l]]);var c=u,d=e(1387);const g={class:"home-page"};function h(t,n,e,o,r,l){const a=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",g,[n[1]||(n[1]=(0,s.Lk)("h1",null,"Welcome to UtaTomo",-1)),n[2]||(n[2]=(0,s.Lk)("p",null,"Learn languages through songs!",-1)),(0,s.bF)(a,{to:"/songs",class:"view-songs-link"},{default:(0,s.k6)((()=>n[0]||(n[0]=[(0,s.eW)("View Song List")]))),_:1})])}var f={name:"HomePage"};const m=(0,i.A)(f,[["render",h],["__scopeId","data-v-c096c380"]]);var p=m,v=e(4232);const y=["onClick"],k=["src"];function b(t,n,e,o,r,l){const a=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",null,[n[2]||(n[2]=(0,s.Lk)("h1",null,"Song List",-1)),(0,s.Lk)("table",{class:(0,v.C4)(l.styles.songTable)},[n[0]||(n[0]=(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,"#"),(0,s.Lk)("th",null,"Title"),(0,s.Lk)("th",null,"Duration")])],-1)),(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.songs,((t,n)=>((0,s.uX)(),(0,s.CE)("tr",{key:t.id,onClick:n=>l.goToSongDetails(t.id)},[(0,s.Lk)("td",null,(0,v.v_)(n+1),1),(0,s.Lk)("td",{class:(0,v.C4)(l.styles.songTitle)},[(0,s.Lk)("img",{src:l.getThumbnail(t.youtubeUrl),alt:"Thumbnail",class:(0,v.C4)(l.styles.thumbnail)},null,10,k),(0,s.Lk)("div",{class:(0,v.C4)(l.styles.titleInfo)},[(0,s.Lk)("div",{class:(0,v.C4)(l.styles.title)},(0,v.v_)(t.title),3),(0,s.Lk)("div",{class:(0,v.C4)(l.styles.artist)},(0,v.v_)(t.artist),3)],2)],2),(0,s.Lk)("td",null,(0,v.v_)(t.duration),1)],8,y)))),128))])],2),(0,s.bF)(a,{to:"/"},{default:(0,s.k6)((()=>n[1]||(n[1]=[(0,s.eW)("Go Back to Home")]))),_:1})])}e(4114),e(8992),e(2577),e(1454);class C{constructor(t="",n=""){this.ChnStr=t,this.EngStr=n}isEmpty(){return!this.ChnStr.trim()&&!this.EngStr.trim()}}async function E(){try{const t=await fetch("/utatomo/data/songs.json");if(!t.ok)throw new Error(`Error fetching songs: ${t.statusText}`);return await t.json()}catch(t){return console.error(t),[]}}function L(t){const n=t.split("v=")[1]?.split("&")[0];if(!n)throw new Error("Invalid YouTube URL");return`https://i3.ytimg.com/vi/${n}/default.jpg`}const w=async t=>{console.log(`Fetching song with ID: ${t}`);const n=await E();console.log("Fetched songs:",n);const e=n.find((n=>n.id===t));return console.log("Found song:",e),e},S=async t=>{try{const n=await fetch(`/utatomo/data/lyrics/${t}.json`);if(!n.ok)throw new Error(`Lyrics not found for ID: ${t}`);const e=await n.json();return console.log(`Fetched lyrics for ID ${t}:`,e),e.lyrics.map((t=>new C(t.ChnStr||"",t.EngStr||"")))}catch(n){return console.error("Error fetching lyrics:",n),null}};var _={songTable:"XJpkjck5TYyJsUzPaKMU",songTitle:"Xh0YjSsYAAxPRHczzf28",thumbnail:"ObdIsDi3RAs9F5dLroE1",titleInfo:"OdnlyaqsCOsEahFDgAa5",title:"E2_b2gv8VyU0ALdF1ASU",artist:"IGWDvtp1CSwvjZq4MepP"},V={name:"SongListPage",data(){return{songs:[]}},async created(){this.songs=await E()},methods:{getThumbnail(t){return L(t)},goToSongDetails(t){this.$router.push(`/song/${t}`)}},computed:{styles(){return _}}};const X=(0,i.A)(V,[["render",b]]);var F=X;const T={class:"song-details-page"},I={key:0,class:"song-details-container"},$={class:"widget-container"},O={key:0},A={key:0},j={key:0},z={key:1},U={key:1},x={key:1,class:"loading"},D={key:1,class:"loading"};function P(t,n,e,o,r,l){const a=(0,s.g2)("StickyVideo"),i=(0,s.g2)("EnglishLyricToggle"),u=(0,s.g2)("FontSizeWidget"),c=(0,s.g2)("ScrollableContainer");return(0,s.uX)(),(0,s.CE)("div",T,[(0,s.Lk)("button",{onClick:n[0]||(n[0]=n=>t.$router.push("/songs")),class:"back-button"},"← Back to Songs"),r.song?((0,s.uX)(),(0,s.CE)("div",I,[(0,s.bF)(a,{youtubeUrl:r.song.youtubeUrl},null,8,["youtubeUrl"]),(0,s.Lk)("div",$,[(0,s.bF)(i,{modelValue:r.showEnglish,"onUpdate:modelValue":n[1]||(n[1]=t=>r.showEnglish=t)},null,8,["modelValue"]),(0,s.bF)(u,{modelValue:r.fontSize,"onUpdate:modelValue":n[2]||(n[2]=t=>r.fontSize=t)},null,8,["modelValue"])]),(0,s.bF)(c,{maxHeight:"calc(100vh - 300px)"},{default:(0,s.k6)((()=>[n[3]||(n[3]=(0,s.Lk)("h2",null,"Lyrics",-1)),r.lyrics?((0,s.uX)(),(0,s.CE)("div",O,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.lyrics,((t,n)=>((0,s.uX)(),(0,s.CE)("p",{key:n,class:(0,v.C4)(l.fontSizeClass)},[t.isEmpty()?((0,s.uX)(),(0,s.CE)("span",U," ")):((0,s.uX)(),(0,s.CE)("span",A,[(0,s.eW)((0,v.v_)(t.ChnStr)+" ",1),t.EngStr&&r.showEnglish?((0,s.uX)(),(0,s.CE)("br",j)):(0,s.Q3)("",!0),t.EngStr&&r.showEnglish?((0,s.uX)(),(0,s.CE)("small",z,(0,v.v_)(t.EngStr),1)):(0,s.Q3)("",!0)]))],2)))),128))])):((0,s.uX)(),(0,s.CE)("p",x,"Loading lyrics..."))])),_:1})])):((0,s.uX)(),(0,s.CE)("div",D,"Loading..."))])}const W={class:"sticky-video"},Y=["src"];function q(t,n,e,o,r,l){return(0,s.uX)(),(0,s.CE)("div",W,[(0,s.Lk)("iframe",{src:`https://www.youtube.com/embed/${l.extractYouTubeId(e.youtubeUrl)}`,frameborder:"0",allowfullscreen:""},null,8,Y)])}var H={props:{youtubeUrl:{type:String,required:!0}},methods:{extractYouTubeId(t){const n=t.match(/v=([^&]+)/);return n?n[1]:null}}};const B=(0,i.A)(H,[["render",q],["__scopeId","data-v-056ba640"]]);var M=B;const R={class:"scrollable-container"};function G(t,n,e,o,r,l){return(0,s.uX)(),(0,s.CE)("div",R,[(0,s.RG)(t.$slots,"default",{},void 0,!0)])}var K={props:{maxHeight:{type:String,default:"400px"}}};const J=(0,i.A)(K,[["render",G],["__scopeId","data-v-625b0358"]]);var Q=J;const Z={class:"widget compact"},N={class:"widget-body"};function tt(t,n,e,o,r,l){return(0,s.uX)(),(0,s.CE)("div",Z,[n[2]||(n[2]=(0,s.Lk)("div",{class:"widget-header"},"English Lyrics",-1)),(0,s.Lk)("div",N,[(0,s.Lk)("button",{class:(0,v.C4)({active:e.modelValue}),onClick:n[0]||(n[0]=n=>t.$emit("update:modelValue",!0))}," On ",2),(0,s.Lk)("button",{class:(0,v.C4)({active:!e.modelValue}),onClick:n[1]||(n[1]=n=>t.$emit("update:modelValue",!1))}," Off ",2)])])}var nt={props:{modelValue:{type:Boolean,required:!0}}};const et=(0,i.A)(nt,[["render",tt],["__scopeId","data-v-58bf1b60"]]);var ot=et;const st={class:"widget compact"},rt={class:"widget-body"};function lt(t,n,e,o,r,l){return(0,s.uX)(),(0,s.CE)("div",st,[n[3]||(n[3]=(0,s.Lk)("div",{class:"widget-header"},"Font Size",-1)),(0,s.Lk)("div",rt,[(0,s.Lk)("button",{class:(0,v.C4)({active:"small"===e.modelValue}),onClick:n[0]||(n[0]=n=>t.$emit("update:modelValue","small"))}," S ",2),(0,s.Lk)("button",{class:(0,v.C4)({active:"medium"===e.modelValue}),onClick:n[1]||(n[1]=n=>t.$emit("update:modelValue","medium"))}," M ",2),(0,s.Lk)("button",{class:(0,v.C4)({active:"large"===e.modelValue}),onClick:n[2]||(n[2]=n=>t.$emit("update:modelValue","large"))}," L ",2)])])}var at={props:{modelValue:{type:String,required:!0}}};const it=(0,i.A)(at,[["render",lt],["__scopeId","data-v-98471ff0"]]);var ut=it,ct={components:{StickyVideo:M,ScrollableContainer:Q,EnglishLyricToggle:ot,FontSizeWidget:ut},data(){return{song:null,lyrics:null,showEnglish:!0,fontSize:"medium"}},computed:{fontSizeClass(){return{small:"small"===this.fontSize,medium:"medium"===this.fontSize,large:"large"===this.fontSize}}},methods:{async fetchData(){try{const t=this.$route.params.id;this.song=await w(t),this.song&&(this.lyrics=await S(t))}catch(t){console.error("Error loading song details:",t)}}},created(){this.fetchData()}};const dt=(0,i.A)(ct,[["render",P],["__scopeId","data-v-2b8f38fd"]]);var gt=dt;const ht=[{path:"/",component:p},{path:"/songs",component:F},{path:"/song/:id",component:gt}],ft=(0,d.aE)({history:(0,d.Bt)(),routes:ht});var mt=ft;(0,o.Ef)(c).use(mt).mount("#app")}},n={};function e(o){var s=n[o];if(void 0!==s)return s.exports;var r=n[o]={exports:{}};return t[o].call(r.exports,r,r.exports,e),r.exports}e.m=t,function(){var t=[];e.O=function(n,o,s,r){if(!o){var l=1/0;for(c=0;c<t.length;c++){o=t[c][0],s=t[c][1],r=t[c][2];for(var a=!0,i=0;i<o.length;i++)(!1&r||l>=r)&&Object.keys(e.O).every((function(t){return e.O[t](o[i])}))?o.splice(i--,1):(a=!1,r<l&&(l=r));if(a){t.splice(c--,1);var u=s();void 0!==u&&(n=u)}}return n}r=r||0;for(var c=t.length;c>0&&t[c-1][2]>r;c--)t[c]=t[c-1];t[c]=[o,s,r]}}(),function(){e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,{a:n}),n}}(),function(){e.d=function(t,n){for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}(),function(){var t={524:0};e.O.j=function(n){return 0===t[n]};var n=function(n,o){var s,r,l=o[0],a=o[1],i=o[2],u=0;if(l.some((function(n){return 0!==t[n]}))){for(s in a)e.o(a,s)&&(e.m[s]=a[s]);if(i)var c=i(e)}for(n&&n(o);u<l.length;u++)r=l[u],e.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return e.O(c)},o=self["webpackChunkutatomo"]=self["webpackChunkutatomo"]||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}();var o=e.O(void 0,[504],(function(){return e(7424)}));o=e.O(o)})();
//# sourceMappingURL=app.22a3f6af.js.map